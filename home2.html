

<!DOCTYPE html>
<html>
    <head>
        <title>quiz</title>
       <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
       <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
       <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" >
       <link rel="stylesheet" href="./quiz app.css">
    </head>
    <style>
      @font-face {
      font-family: myfont;
      src: url(./raber/Rabar_021.ttf);
      }
      @font-face {
      font-family: myfont2;
      src: url(./raber/Rabar_022.ttf);
      } 
      @media (max-width:990px) {
         .mt{
         margin-top:70px;
         }
      }
      </style>

    <body>
        <div class = "start" ><button style="font-family:myfont">Ø¯Û•Ø³Øª Ø¨Ú©Û• Ø¨Û• ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ• </button></div>
        
        <div class = "info-box"dir="rtl">
        
            <div class = "info-title"style="font-family:myfont">ÛŒØ§Ø³Ø§Ú©Ø§Ù†ÛŒ  Ø¦Û•Ù… ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒÛ• </div>
              <div class = "info-list"style="font-family:myfont">
                <div class = "info"><i class = "fas fa-asterisk"></i>  ØªÛ† ØªÛ•Ù†ÛŒØ§  <span 
                  > Ù¢Ù  Ú†Ø±Ú©Û•Øª Ù‡Û•ÛŒÛ•</span> Ø¨Û† Ù‡Û•Ø± Ù¾Ø±Ø³ÛŒØ§Ø±ÛÚ© </div>
                <div class = "info"><i class = "fas fa-asterisk"></i>  ØªÛ† Ù¾ÛÙˆÛŒØ³ØªÛ• Ù‡Û•ÚµØ¨Ú˜Ø§Ø±Ø¯Ù†ÛÚ© Ø¯ÛŒØ§Ø±ÛŒ Ø¨Ú©Û•ÛŒ Ø¨Û† Ú†ÙˆÙˆÙ†Û• Ù¾Ø±Ø³ÛŒØ§Ø±ÛŒ Ø¯ÙˆØ§ØªØ±</div>
                <div class = "info"><i class = "fas fa-asterisk"></i>   Ø¯ÙˆØ§ÛŒÛŒ Ø¯ÛŒØ§Ø±ÛŒÚ©Ø±Ø¯Ù†ÛŒ Ù‡Û•Ø± ÙˆÛ•ÚµØ§Ù…ÛÚ© Ù†Ø§ØªÙˆØ§Ù†ÛŒ Ø¨ÛŒÚ¯Û†Ø±ÛŒ</div>
                <div class = "info"><i class = "fas fa-asterisk"></i> Ù†Ø§ØªÙˆØ§Ù†ÛŒ Ù‡ÛŒÚ† ÙˆÛ•ÚµØ§Ù…ÛÚ© Ø¯ÛŒØ§Ø±ÛŒ Ø¨Ú©Û•ÛŒ Ø¯ÙˆØ§ÛŒ ØªÛ•ÙˆØ§Ùˆ Ø¨ÙˆÙˆÙ†ÛŒ Ú©Ø§ØªÛ•Ú©Û•</div>
                <div class = "info"><i class = "fas fa-asterisk"></i>  Ù†Ø§ØªÙˆØ§Ù†ÛŒ Ø¨Ú†ÛŒØªÛ• Ø¯Û•Ø±Û•ÙˆÛ• ØªØ§ Ú©Ø§ØªÛŒ ØªÛ•ÙˆØ§Ùˆ Ø¨ÙˆÙˆÙ†</div>
                <div class = "buttons mt"dir="ltr">
                    <button class = "quit btn btn-danger "style="font-family:myfont"onClick="location.href='index.html'">Ú†ÙˆÙˆÙ†Û•Ø¯Û•Ø±Û•ÙˆÛ•</button>
                    <button class = "cont"style="font-family:myfont">Ø¨Û•Ø±Ø¯Û•ÙˆØ§Ù… Ø¨ÙˆÙˆÙ†</button>
                </div>
            </div>
            
        </div>
        
        <div class = "quiz-box">
            <header style="border-bottom: 2px solid rgb(83, 83, 234);">
          
                  <div class = "timer">
                  
                    <div class = "sec">40</div> 
                    <div class = "text"style="font-family:myfont;">Ú©Ø§ØªÛŒ ØªÛ•ÙˆØ§ÙˆØ¨ÙˆÙˆÙ† </div>

                 </div>
              <div class = "timeline"></div>
              <div class = "title">ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•</div>
           </header>
                
                <!-- question section -->
                <section>
                <div class = "question" dir="rtl" style="font-family:myfont">
             <!-- question goes in here -->
                </div>
                <div class = "option-list"style="font-family:myfont">
                   <div class = "option"style="font-family:myfont">
                     <!--   options goes in here -->
                    </div> 
                    </div>
                    </section>
                    
                    
       <!-- Quiz footer -->             
        <footer dir="rtl">
       
            <div class = "total-questions">
       <!-- question count goes in here -->
            </div>
            <button class = "next"style="font-family:myfont">Ø¯ÙˆØ§ØªØ±</button>
        </footer>   
        </div>
        
        <!-- Result section-->
         <div class = "result-box">
            <div class = "icon">
             <img src="./image/crown.png">
            </div>
         <div class = "complete-text"style="font-family:myfont">ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•Ú©Û• ØªÛ•ÙˆØ§Ùˆ Ø¨ÙˆÙˆ </div>
         <div class = "score-text"> 
         <!--   score text goes in here -->
         </div>
         <div class = "buttons"dir="rtl">
                <button class = "restart"style="font-family:myfont">Ø¯ÙˆÙˆØ¨Ø§Ø±Û•Ú©Ø±Ø¯Ù†Û•ÙˆÛ•</button>
                <button class = "exit"style="font-family:myfont"onClick="location.href='index.html'">Ú†ÙˆÙˆÙ†Û•Ø¯Û•Ø±Û•ÙˆÛ•</button>
         </div  
         </div>
       
      <!--JavaScript-->
      <script>     
      //getting the references
      const  startBtn = document.querySelector(".start")
      const infoBox = document.querySelector(".info-box")
      const exitBtn = infoBox.querySelector(".buttons .quit")
      const continueBtn = infoBox.querySelector(".buttons .cont")         
      const quizBox = document.querySelector(".quiz-box")
      const nextBtn = quizBox.querySelector(".next");            
      const optionList = quizBox.querySelector(".option-list");    
      const resultBox = document.querySelector(".result-box" )
      const timeCount = quizBox.querySelector(".timer .sec")
      const timeLine = quizBox.querySelector("header .timeline")
      const timeOut = quizBox.querySelector(".timer .text")
      const body = document.getElementsByTagName("body")[0];
 //
 //
 //           
             //start button click event
             startBtn.onclick = () => {
              infoBox.classList.add("activeInfo")//shows info box
              }
//          
             //exit button click event
            //  exitBtn.onclick = () => {
            //   infoBox.classList.remove("activeInfo")//removes info box
            //   }
//          
            //continue button click event
             continueBtn.onclick = () => {
              infoBox.classList.remove("activeInfo")//removes info box
              quizBox.classList.add("activeQuiz");
              showQuestions(0);
              queCount(1);
              startTimer(40);//so that the time starts from 20
              startTimeLine(0);
           
              }
//            
//           
//         
            //defining objects
            let que_count = 0;
            let que_numb = 1;
            let counter;
            let counterLine;
            let timeValue = 40;
            let widthValue = 0;
            let userScore = 0;
            
            let tickIcon = '<div class = "icon tick"><i class = "fas fa-check"></i></div>';
            let crossIcon = '<div class = "icon wrong"><i class = "fas fa-times"></i></div>';
//
//      
// 
                //next button click event
                nextBtn.onclick = () => {
                if(que_count < questions.length - 1){
                    que_count++;
                    que_numb++;
                    showQuestions(que_count);
                    queCount(que_numb);
                    clearInterval(counter);
                    clearInterval(counterLine);
                    startTimer(timeValue);
                    startTimeLine(widthValue);
                    nextBtn.style.display = "none";
                    body.classList.remove("right");
                    body.classList.remove("wrong");
                    timeLine.classList.remove("right");
                    timeLine.classList.remove("wrong");
                    
                    }
          else{
             clearInterval(counter);
             clearInterval(counterLine);
             showResultBox();
             quizBox.classList.remove("activeQuiz")//hides quix box
             resultBox.classList.add("activeResult")//shows resultBox
             timeOut.textContent = "Ú©Ø§ØªÛŒ ØªÛ•ÙˆØ§ÙˆØ¨ÙˆÙˆÙ†"
             
             }
             };
//
//
//   
  //replay button click event
  const replayBtn = resultBox.querySelector(".buttons .restart")  
  replayBtn.onclick = () => { 
 
    quizBox.classList.add("activeQuiz"); //show quiz box
    resultBox.classList.remove("activeResult"); //hide result box
    timeValue = 40;    
    que_count = 0
    que_numb = 1;
    userScore = 0;
    widthValue = 0;
    showQuestions(que_count); 
    queCount(que_numb); 
    clearInterval(counter); 
    clearInterval(counterLine); 
    startTimer(timeValue); 
    startTimeLine(widthValue); 
    timeOut.textContent = "Ú©Ø§ØªÛŒ ØªÛ•ÙˆØ§ÙˆØ¨ÙˆÙˆÙ†"; 
    nextBtn.classList.remove("show"); //hide the next button  
    timeLine.classList.remove("right")
    timeLine.classList.remove("wrong") 
    quizBox.classList.remove("oops")
            }; 
//        
//
//                        
 //quit button click event
//  const quitBtn = resultBox.querySelector(".buttons .exit")
//  quitBtn.onclick = () => {
//  window.location.reload( );
//             }
//
//
//                   
            //display questions
            function showQuestions(index){
               const queText = document.querySelector(".question");
             
               let queTag = "<span>" +
               questions[index].number + 
               ". " +
               questions[index].question + 
               "</span>"
                
                 let optionsTag =
                 '<div class = "option">' +
                 questions[index].options[0] + 
                 '<span></span></div>' +
                 '<div class = "option">' +
                 questions[index].options[1] +
                 '<span></span></div>' +
                 '<div class = "option">' +
                 questions[index].options[2] + 
                 '<span></span></div>' +
                 '<div class = "option">' +
                 questions[index].options[3] +
                 '<span></span></div>';
                     
                 queText.innerHTML = queTag;
                 optionList.innerHTML = optionsTag;
        
             for (let i of questions) {
             //to randomly sort options
             i.options.sort(() => Math.random() - 0.5);
             }
             const option = optionList.querySelectorAll(".option")
             for(let x = 0; x < option.length ; x++){
             option[x].setAttribute("onclick", "optionSelected(this)")
             }
             };
//                     
//
//          
             //for timer to start counting
             function startTimer(time){
               counter = setInterval(timer, 1000)
             function timer(){
               timeCount.textContent = time;
               time--;
               timeOut.textContent = "Ú©Ø§ØªÛŒ ØªÛ•ÙˆØ§ÙˆØ¨ÙˆÙˆÙ†" 
              if(time < 9){
               let addZero = timeCount.textContent
               timeCount.textContent = "0" + addZero;
              }
              if(time < 0){
                clearInterval(counter)
                timeCount.textContent = "00";
                timeOut.textContent = "Ú©Ø§Øª ØªÛ•ÙˆØ§Ùˆ" 

         let correctAns = questions[que_count].answer;
         let allOptions = optionList.children.length;
         //to automatically select correct option if answer is wrong
for(let x = 0; x < allOptions; x++){
if (optionList.children[x].textContent == correctAns){
optionList.children[x].setAttribute("class", "option correct");             optionList.children[x].insertAdjacentHTML("beforeend",tickIcon);
          }
          }
          //when any option is selected ,all options are disabled 
         for(let x = 0; x < allOptions; x++){
            optionList.children[x].classList.add("disabled");
            }   
nextBtn.style.display = "block";//shows next-button when option is clicked
            };   
            };
            };   
//
//
//
           //for timeline to start moving
           function startTimeLine(time){
             counterLine = setInterval(timer, 60)
           function timer(){
             time += 1;  
             timeLine.style.width = time + "px"
           if(time > 350){
             clearInterval(counterLine)
           };
           };
           };      
//
//
//  
          //shows result box
          function showResultBox(){
            infoBox.classList.remove("activeQuiz")//hide info box
            quizBox.classList.remove("activeQuiz")//hide quix box
            resultBox.classList.add("activeResult")//shows resultBox
            body.classList.remove("right")
            body.classList.remove("wrong");
          const scoreText = resultBox.querySelector(".score-text")
          if(userScore == questions.length){
               let scoreTag = '<span style="font-family:myfont">ğŸ¥³ğŸ‘ŒÙ†Ø§ÛŒØ§Ø¨Û•!! <p>'
          
               + questions.length +
               '</p>Ù„Û•<p style="font-family:myfont">' 
                  +  userScore 
               scoreText.innerHTML = scoreTag;
            }
            else  if(userScore > 6 ){
               let scoreTag = '<span style="font-family:myfont">ğŸ’«Ù¾ÛŒØ±Û†Ø²Û•! Ø¯Û•Ø±Ú†ÙˆÙˆÛŒØª<p>'
           
               + questions.length +
               '</p>Ù„Û•<p style="font-family:myfont">' 
                  +  userScore 
               scoreText.innerHTML = scoreTag;
            }
            else if(userScore > 3){
               let scoreTag = '<span style="font-family:myfont">ğŸ‘Ø¬ÙˆØ§Ù†Û•, Ø¯Û•Ø±Ú†ÙˆÙˆÛŒØª<p>'
           
               + questions.length +
               '</p>Ù„Û•<p style="font-family:myfont">' 
                  +  userScore 
               scoreText.innerHTML = scoreTag;
            }
            else{
               let scoreTag = '<span style="font-family:myfont">ğŸ˜ŸØ¨Û•Ø¯Ø§Ø®Û•ÙˆÛ•, Ø¨Ø§Ø´Ù†Û•Ø¨ÙˆÙˆÛŒØª<p>'
           
               + questions.length +
               '</p>Ù„Û•<p style="font-family:myfont">' 
                  +  userScore 
               scoreText.innerHTML = scoreTag;
             }
             };
//
//
//           
             //count of questions 
             function queCount(index){ 
             const bottomQueCount = quizBox.querySelector(".total-questions");
             
                let totalQuestionsCount =
                '<span style="font-family:myfont;"><p style="font-family:myfont">' +
                index +
                '</p >Ù„Û•<p >'  +
                questions.length +
                '</p>Ù¾Ø±Ø³ÛŒØ§Ø±</span>';
             
                bottomQueCount.innerHTML = totalQuestionsCount      
             };
//        
//    
//               
              //selecting an option
             function optionSelected(answer) {
                clearInterval(counter);//stops time count
                clearInterval(counterLine)//stops timeline movement
                let userAns = answer.textContent;
                let correctAns = questions[que_count].answer;
                let allOptions = optionList.children.length;
                if (userAns == correctAns){
                userScore += 1
                answer.classList.add("correct")
                //to show that question is correct
                answer.insertAdjacentHTML("beforeend", tickIcon)
                body.classList.add("right")
                timeLine.classList.add("right")
                }
                else{
                var myQuizBox = false;
                if (myQuizBox) clearTimeout(myquizBox);
                myQuizBox = setTimeout(function() {quizBox.style.animation = '';}, 500);//so that the animation can continue
                answer.classList.add("incorrect");
                //to show that question is wrong
                answer.insertAdjacentHTML("beforeend", crossIcon);
                quizBox.style.animation = "shake 0.25s 2";
                body.classList.add("wrong");   
                timeLine.classList.add("wrong")      
                window.navigator.vibrate([ 500]);//for phone to vibrate 
   //to automatically select correct option if answer is wrong
   for(let x = 0; x < allOptions; x++){
   if (optionList.children[x].textContent == correctAns){   
   optionList.children[x].setAttribute("class", "option correct");
   optionList.children[x].insertAdjacentHTML("beforeend",tickIcon);
   }
   }
   };               
//when any option is selected ,all options are disabled 
for(let x = 0; x < allOptions; x++){
optionList.children[x].classList.add("disabled");
};   
nextBtn.style.display = "block";//shows next button when option is clicked
             };   
//             
// 
//           

        </script>
        <script src="./quiz app2.js"></script>
    </body>
</html>